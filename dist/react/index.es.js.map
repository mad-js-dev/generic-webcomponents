{"version":3,"file":"index.es.js","sources":["../../src/init.js","../../src/wrappers/react/index.jsx"],"sourcesContent":["// Initialize web components\nexport function defineCustomElements() {\n  return Promise.all([\n    customElements.whenDefined('collapsible-list'),\n    customElements.whenDefined('collapsible-item'),\n    customElements.whenDefined('icon-label'),\n    customElements.whenDefined('selection-menu'),\n    customElements.whenDefined('image-collection'),\n    customElements.whenDefined('product-layout')\n  ]);\n}\n\n// Auto-define components if in a browser environment\nif (typeof window !== 'undefined' && !window.__GENERIC_WEBCOMPONENTS_DEFINED__) {\n  window.__GENERIC_WEBCOMPONENTS_DEFINED__ = true;\n  defineCustomElements().catch(console.error);\n}\n","/// src/wrappers/react/index.jsx\nimport React, { forwardRef, useImperativeHandle, useRef } from 'react';\nimport { defineCustomElements } from '../../init.js';\n\n// Initialize web components when the module is loaded\ndefineCustomElements().catch(console.error);\n\n// Handle icon path resolution for React\nconst resolveIconPath = (icon) => {\n  if (!icon) return '';\n  // If it's a full URL or data URI, use as is\n  if (icon.startsWith('http') || icon.startsWith('data:') || icon.startsWith('blob:')) {\n    return icon;\n  }\n  // For local paths, assume they're relative to the public folder in the consuming app\n  return icon;\n};\n\n// Create React wrappers for each web component\nconst createReactWrapper = (tagName) => {\n  const Component = forwardRef(({ children, ...props }, ref) => {\n    const elementRef = useRef(null);\n    \n    // Handle ref forwarding\n    React.useImperativeHandle(ref, () => elementRef.current);\n    \n    // Convert React props to web component attributes/events\n    const elementProps = Object.entries(props).reduce((acc, [key, value]) => {\n      // Handle events (onEvent -> onevent)\n      if (key.startsWith('on') && key[2] === key[2].toUpperCase()) {\n        const eventName = key[2].toLowerCase() + key.slice(3);\n        return { ...acc, [eventName]: value };\n      }\n      // Handle className -> class\n      if (key === 'className') {\n        return { ...acc, class: value };\n      }\n      // Handle style object\n      if (key === 'style' && typeof value === 'object') {\n        return { ...acc, style: value };\n      }\n      // Special handling for icon prop\n      if (key === 'icon') {\n        return { ...acc, icon: resolveIconPath(value) };\n      }\n      // Pass through other props\n      return { ...acc, [key]: value };\n    }, {});\n    \n    // Handle ref and props\n    const elementPropsWithRef = {\n      ...elementProps,\n      ref: (element) => {\n        if (element) {\n          elementRef.current = element;\n          \n          // Forward the ref if it's a function\n          if (typeof ref === 'function') {\n            ref(element);\n          } else if (ref) {\n            ref.current = element;\n          }\n        }\n      }\n    };\n    \n    return React.createElement(tagName, elementPropsWithRef, children);\n  });\n  \n  // Set display name for better debugging\n  Component.displayName = tagName;\n  \n  return Component;\n};\n\n// Export all components as named exports\nconst CollapsibleList = createReactWrapper('collapsible-list');\nconst CollapsibleItem = createReactWrapper('collapsible-item');\nconst IconLabel = createReactWrapper('icon-label');\nconst SelectionMenu = createReactWrapper('selection-menu');\nconst ImageCollection = createReactWrapper('image-collection');\nconst ProductLayout = createReactWrapper('product-layout');\n\n// Export all components as named exports\nexport {\n  CollapsibleList,\n  CollapsibleItem,\n  IconLabel,\n  SelectionMenu,\n  ImageCollection,\n  ProductLayout,\n  defineCustomElements\n};\n\n// Default export with all components\nexport default {\n  CollapsibleList,\n  CollapsibleItem,\n  IconLabel,\n  SelectionMenu,\n  ImageCollection,\n  ProductLayout,\n  defineCustomElements\n};"],"names":["defineCustomElements","Promise","all","customElements","whenDefined","window","__GENERIC_WEBCOMPONENTS_DEFINED__","catch","console","error","resolveIconPath","icon","startsWith","createReactWrapper","tagName","Component","forwardRef","children","props","ref","elementRef","useRef","React","useImperativeHandle","current","elementProps","Object","entries","reduce","acc","key","value","toUpperCase","eventName","toLowerCase","slice","class","style","elementPropsWithRef","element","createElement","displayName","CollapsibleList","CollapsibleItem","IconLabel","SelectionMenu","ImageCollection","ProductLayout"],"mappings":"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"}